{% extends "base.html" %}

{% block title %}Interview History - InterviewAce{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/history.css') }}">
{% endblock %}

{% block content %}
<div class="animated-bg"></div>

<div class="container" style="max-width: 1400px; margin: 2rem auto; padding: 0 2rem;">
    <!-- Header with Filters -->
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 3rem; flex-wrap: wrap; gap: 1rem;">
        <div>
            <h1 style="font-size: 2.5rem; font-weight: 700; color: #1a1a1a; margin-bottom: 0.5rem;">
                Interview <span style="background: linear-gradient(135deg, #22c55e, #16a34a); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Timeline</span>
            </h1>
            <p style="color: #6b7280; font-size: 1.1rem;">Your complete interview journey</p>
        </div>
        <div style="display: flex; gap: 1rem;">
            <select id="filterRole" style="padding: 0.75rem 1rem; border: 1px solid #e5e7eb; border-radius: 10px; font-size: 0.9rem;">
                <option value="all">All Roles</option>
                <option value="software">Software Engineer</option>
                <option value="data">Data Scientist</option>
                <option value="ai">AI Scientist</option>
            </select>
            <select id="filterScore" style="padding: 0.75rem 1rem; border: 1px solid #e5e7eb; border-radius: 10px; font-size: 0.9rem;">
                <option value="all">All Scores</option>
                <option value="high">80-100</option>
                <option value="mid">60-79</option>
                <option value="low">0-59</option>
            </select>
        </div>
    </div>

    <!-- Stats Dashboard -->
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; margin-bottom: 3rem;">
        <div class="stat-card" style="background: linear-gradient(135deg, #22c55e, #16a34a); color: white;">
            <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">🎯</div>
            <div id="totalCount" style="font-size: 2.5rem; font-weight: 700; margin-bottom: 0.5rem;">0</div>
            <div style="font-size: 0.9rem; opacity: 0.9;">Total Interviews Completed</div>
        </div>
        <div class="stat-card" style="background: linear-gradient(135deg, #3b82f6, #2563eb); color: white;">
            <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">📊</div>
            <div id="avgScore" style="font-size: 2.5rem; font-weight: 700; margin-bottom: 0.5rem;">0</div>
            <div style="font-size: 0.9rem; opacity: 0.9;">Average Performance Score</div>
        </div>
        <div class="stat-card" style="background: linear-gradient(135deg, #f59e0b, #d97706); color: white;">
            <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">🏆</div>
            <div id="bestScore" style="font-size: 2.5rem; font-weight: 700; margin-bottom: 0.5rem;">0</div>
            <div style="font-size: 0.9rem; opacity: 0.9;">Highest Score Achieved</div>
        </div>
        <div class="stat-card" style="background: linear-gradient(135deg, #8b5cf6, #7c3aed); color: white;">
            <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">📈</div>
            <div id="improvement" style="font-size: 2.5rem; font-weight: 700; margin-bottom: 0.5rem;">+0%</div>
            <div style="font-size: 0.9rem; opacity: 0.9;">Performance Improvement</div>
        </div>
    </div>

    <!-- Timeline -->
    <div class="timeline-container" id="timeline">
        <div style="text-align: center; padding: 3rem; color: #6b7280;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">⏳</div>
            <p>Loading your interview timeline...</p>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/history.js') }}"></script>
{% endblock %}
