{% extends "base.html" %}

{% block title %}Start Interview - InterviewAce{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/start_interview.css') }}">
{% endblock %}

{% block content %}
<div class="animated-bg"></div>

<div class="interview-container">
    <div class="page-header">
        <h1>🎯 Start Your <span style="color: #22c55e;">Professional</span> Interview</h1>
        <p>Upload your resume and choose your interview type</p>
    </div>

    <div class="interview-layout">
        <!-- Left Side: Resume Upload -->
        <div class="resume-section">
            <h2>📄 Upload Resume</h2>
            
            <div class="upload-area" id="uploadArea">
                <div class="upload-icon">📤</div>
                <div class="upload-text">Click or drag to upload</div>
                <div class="upload-hint">PDF, DOC, DOCX (Max 100KB)</div>
            </div>
            
            <input type="file" id="resumeFile" class="file-input" accept=".pdf,.doc,.docx">
            
            <div class="resume-preview" id="resumePreview">
                <div class="file-info">
                    <div class="file-name" id="fileName"></div>
                    <div class="file-size" id="fileSize"></div>
                </div>
                
                <div class="preview-actions">
                    <button class="btn-view" id="viewResume">👁️ View</button>
                    <button class="btn-remove" id="removeFile">🗑️ Remove</button>
                </div>
                
                <div class="resume-viewer" id="resumeViewer" style="display: none;">
                    <div class="viewer-header">
                        <span class="viewer-title">📄 Resume Preview</span>
                        <button class="btn-close-viewer" id="closeViewer">×</button>
                    </div>
                    <div class="viewer-content" id="viewerContent"></div>
                </div>
            </div>
        </div>

        <!-- Right Side: Interview Options -->
        <div class="interview-options">
            
            <!-- Interview Tabs -->
            <div class="interview-tabs">
                <button class="tab-btn" data-tab="voice">
                    <span>🎤 Voice Interview</span>
                    <span class="tab-badge available">Active</span>
                </button>
                <button class="tab-btn active" data-tab="written">
                    <span>✍️ Written Interview</span>
                    <span class="tab-badge available">Active</span>
                </button>
            </div>

            <!-- Voice Interview Tab -->
            <div class="tab-content" id="voiceTab">
                <p class="content-description">
                    AI speaks questions, you answer by voice. Real-time transcription and evaluation.
                </p>
                
                <div class="features-compact">
                    <div class="feature-item"><span class="feature-icon">✓</span> AI speaks questions</div>
                    <div class="feature-item"><span class="feature-icon">✓</span> Voice recognition</div>
                    <div class="feature-item"><span class="feature-icon">✓</span> Real-time transcription</div>
                    <div class="feature-item"><span class="feature-icon">✓</span> Instant evaluation</div>
                </div>
                
                <form class="interview-form" id="voiceInterviewForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="voiceJobRole">Job Role</label>
                            <select id="voiceJobRole" required>
                                <option value="">Select role...</option>
                                <option value="Software Engineer">💻 Software Engineer</option>
                                <option value="AI Scientist">🤖 AI Scientist</option>
                                <option value="Data Scientist">📊 Data Scientist</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="voiceExperienceLevel">Experience Level</label>
                            <select id="voiceExperienceLevel" required>
                                <option value="">Select level...</option>
                                <option value="Beginner">🟢 Beginner (0-2 years)</option>
                                <option value="Intermediate">🟡 Intermediate (2-5 years)</option>
                                <option value="Advanced">🔴 Advanced (5+ years)</option>
                            </select>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn-start" id="startVoiceBtn" disabled>
                        <span>Start Voice Interview</span>
                        <span>→</span>
                    </button>
                </form>
            </div>

            <!-- Written Interview Tab -->
            <div class="tab-content active" id="writtenTab">
                <p class="content-description">
                    3 MCQs + 7 written questions with AI evaluation and detailed performance report.
                </p>
                
                <div class="features-compact">
                    <div class="feature-item"><span class="feature-icon">✓</span> 3 MCQ questions</div>
                    <div class="feature-item"><span class="feature-icon">✓</span> 7 written questions</div>
                    <div class="feature-item"><span class="feature-icon">✓</span> AI evaluation</div>
                    <div class="feature-item"><span class="feature-icon">✓</span> Detailed report</div>
                </div>
                
                <form class="interview-form" id="writtenInterviewForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="jobRole">Job Role</label>
                            <select id="jobRole" required>
                                <option value="">Select role...</option>
                                <option value="Software Engineer">💻 Software Engineer</option>
                                <option value="AI Scientist">🤖 AI Scientist</option>
                                <option value="Data Scientist">📊 Data Scientist</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="experienceLevel">Experience Level</label>
                            <select id="experienceLevel" required>
                                <option value="">Select level...</option>
                                <option value="Beginner">🟢 Beginner (0-2 years)</option>
                                <option value="Intermediate">🟡 Intermediate (2-5 years)</option>
                                <option value="Advanced">🔴 Advanced (5+ years)</option>
                            </select>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn-start" id="startWrittenBtn" disabled>
                        <span>Start Written Interview</span>
                        <span>→</span>
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/start_interview.js') }}"></script>
{% endblock %}
